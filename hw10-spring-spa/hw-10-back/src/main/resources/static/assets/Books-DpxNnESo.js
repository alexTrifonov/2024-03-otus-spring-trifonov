import{_ as f,c as o,a as n,F as u,d as p,r as y,o as e,t as c,e as h,b as k,w as _,f as b}from"./index-CJCJ3rio.js";import{a as B}from"./index-DW_MHI2K.js";const g={props:{itemData:{type:Array},fields:{type:Array}},data(){return{nFields:this.fields,items:this.itemData}},mounted(){this.nFields.push("Comments","Updating","Deleting")}},v={class:"table"},C={key:0},$={key:1},x={key:2},F={key:3};function I(i,t,r,D,a,m){const d=y("RouterLink");return e(),o("table",v,[n("thead",null,[n("tr",null,[(e(!0),o(u,null,p(a.nFields,s=>(e(),o("th",{key:s},c(s),1))),128))])]),n("tbody",null,[(e(!0),o(u,null,p(a.items,s=>(e(),o("tr",{key:s},[(e(!0),o(u,null,p(a.nFields,l=>(e(),o("td",{key:l},[l==="Comments"?(e(),o("div",C,[k(d,{to:`books/${s.Id}/comments`},{default:_(()=>t[0]||(t[0]=[b("Comments")])),_:2},1032,["to"])])):(e(),o("div",$,c(s[l]),1)),l==="Updating"?(e(),o("div",x,[k(d,{to:`books/${s.Id}/updating`},{default:_(()=>t[1]||(t[1]=[b("Update")])),_:2},1032,["to"])])):h("",!0),l==="Deleting"?(e(),o("div",F,[k(d,{to:`books/${s.Id}/deleting`},{default:_(()=>t[2]||(t[2]=[b("Delete")])),_:2},1032,["to"])])):h("",!0)]))),128))]))),128))])])}const N=f(g,[["render",I],["__scopeId","data-v-2f4ec635"]]),T={components:{BooksTable:N},mounted(){B.get("/api/books").then(i=>{let t=i.data;for(let r of t)this.bookData.push({Id:r.id,Title:r.title,Author:r.authorDto.fullName,Genre:r.genreDto.name,Comments:r.id})}).catch(i=>this.$router.push("/error"))},data(){return{bookData:[],bookColumns:["Id","Title","Author","Genre"]}},methods:{addBook(){this.$router.push("/books/add")}}},A={key:0},V={key:1};function L(i,t,r,D,a,m){const d=y("BooksTable");return e(),o(u,null,[a.bookData.length>0?(e(),o("div",A,[t[1]||(t[1]=n("div",null,[n("h2",null,"Books:")],-1)),k(d,{fields:a.bookColumns,itemData:a.bookData},null,8,["fields","itemData"])])):(e(),o("div",V,t[2]||(t[2]=[n("h2",null,"No books",-1)]))),n("div",null,[n("button",{class:"fancy-btn",onClick:t[0]||(t[0]=(...s)=>m.addBook&&m.addBook(...s))},"Add book")])],64)}const G=f(T,[["render",L]]);export{G as default};
